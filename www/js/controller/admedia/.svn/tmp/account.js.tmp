<<<<<<< .mine
/**
 * Created by AaronYuan on 8/19/15.
 */
/// <reference path="../../app.ts" />
/// <reference path="../../service/WechatPublic.ts" />
var WeMedia;
(function (WeMedia) {
    'use strict';
    var Account = (function () {
        function Account($rootScope, $scope, $state, $stateParams, WechatPublicService) {
            this.$rootScope = $rootScope;
            this.$scope = $scope;
            this.$state = $state;
            this.$stateParams = $stateParams;
            this.WechatPublicService = WechatPublicService;
            var self = this;
            $scope.currentMediaType = $stateParams.mediaType;
            $scope.currentMediaName = WeMedia.allMedias[$stateParams.mediaType];
            $scope.addAccount = angular.bind(this, this.addAccount);
            $scope.pageChanged = angular.bind(this, this.pageChanged);
            $scope.getStatus = angular.bind(this, this.getStatus);
            $scope.search = angular.bind(this, this.search);
            $scope.currentPage = 1;
            $scope.pageSize = 10;
            $scope.totalItems = 0;
            $rootScope.$on('$stateChangeSuccess', function (e, state) {
                if (['admedia.account.wechat', 'admedia.account.weibo', 'admedia.account.friends'].indexOf(state.name) > -1) {
                    self.refresh(state, null);
                }
            });
            this.refresh($state.current, null);
        }
        Account.prototype.refresh = function (state, args) {
            var self = this;
            switch (state.name) {
                case 'admedia.account.wechat':
                    this.$scope.currentMediaType = 2;
                    this.WechatPublicService.list(args).then(function (result) {
                        if (result) {
                            self.$scope.data = result.Data;
                            self.$scope.totalItems = result.TotalItems * 1;
                        }
                    }, function (err) {
                    });
                    break;
                case 'admedia.account.weibo':
                    this.$scope.currentMediaType = 3;
                    this.$scope.data = [1, 2, 2, 45, 3453, 5345, 5345];
                    break;
                case 'admedia.account.friends':
                    this.$scope.currentMediaType = 4;
                    this.$scope.data = [1, 2, 2];
                    break;
            }
        };
        Account.prototype.addAccount = function () {
            var name = '';
            switch (this.$scope.currentMediaType * 1) {
                case 1:
                    break;
                case 2:
                    name = 'admedia.account.addwechat';
                    break;
                case 3:
                    name = 'admedia.account.addweibo';
                    break;
                case 4:
                    name = 'admedia.account.addfriends';
                    break;
            }
            if (name) {
                this.$state.go(name);
            }
        };
        Account.prototype.pageChanged = function (page) {
            this.$scope.currentPage = page;
            this.refresh(this.$state.current, {
                pageSize: this.$scope.pageSize,
                page: this.$scope.currentPage
            });
        };
        Account.prototype.getStatus = function (status) {
            switch (status) {
                default:
                case 'WX1':
                    return '������';
                case 'WX2':
                    return 'ʹ����';
            }
        };
        Account.prototype.search = function () {
        };
        return Account;
    })();
    Account.$inject = ['$rootScope', '$scope', '$state', '$stateParams', 'WechatPublicService']; //, '$stateProvider'];
    WeMedia.ControllerModule.controller('AccountCtrl', Account);
})(WeMedia || (WeMedia = {}));
=======
/**
 * Created by AaronYuan on 8/19/15.
 */
/// <reference path="../../app.ts" />
/// <reference path="../../service/WechatPublic.ts" />
var WeMedia;
(function (WeMedia) {
    'use strict';
    var Account = (function () {
        function Account($rootScope, $scope, $state, $stateParams, WechatPublicService) {
            this.$rootScope = $rootScope;
            this.$scope = $scope;
            this.$state = $state;
            this.$stateParams = $stateParams;
            this.WechatPublicService = WechatPublicService;
            var self = this;
            $scope.currentMediaType = $stateParams.mediaType;
            $scope.currentMediaName = WeMedia.allMedias[$stateParams.mediaType];
            $scope.addAccount = angular.bind(this, this.addAccount);
            $scope.pageChanged = angular.bind(this, this.pageChanged);
            $scope.getStatus = angular.bind(this, this.getStatus);
            $scope.search = angular.bind(this, this.search);
            $scope.currentPage = 1;
            $scope.pageSize = 10;
            $scope.totalItems = 0;
            $rootScope.$on('$stateChangeSuccess', function (e, state) {
                if (['admedia.account.wechat', 'admedia.account.weibo', 'admedia.account.friends'].indexOf(state.name) > -1) {
                    self.refresh(state, null);
                }
            });
            this.refresh($state.current, null);
        }
        Account.prototype.refresh = function (state, args) {
            var self = this;
            switch (state.name) {
                case 'admedia.account.wechat':
                    this.$scope.currentMediaType = 2;
                    this.WechatPublicService.list(args).then(function (result) {
                        if (result) {
                            self.$scope.data = result.Data;
                            self.$scope.totalItems = result.TotalItems * 1;
                        }
                    }, function (err) {
                    });
                    break;
                case 'admedia.account.weibo':
                    this.$scope.currentMediaType = 3;
                    this.$scope.data = [1, 2, 2, 45, 3453, 5345, 5345];
                    break;
                case 'admedia.account.friends':
                    this.$scope.currentMediaType = 4;
                    this.$scope.data = [1, 2, 2];
                    break;
            }
        };
        Account.prototype.addAccount = function () {
            var name = '';
            switch (this.$scope.currentMediaType * 1) {
                case 1:
                    break;
                case 2:
                    name = 'admedia.account.addwechat';
                    break;
                case 3:
                    name = 'admedia.account.addweibo';
                    break;
                case 4:
                    name = 'admedia.account.addfriends';
                    break;
            }
            if (name) {
                this.$state.go(name);
            }
        };
        Account.prototype.pageChanged = function (page) {
            this.$scope.currentPage = page;
            this.refresh(this.$state.current, {
                pageSize: this.$scope.pageSize,
                page: this.$scope.currentPage
            });
        };
        Account.prototype.getStatus = function (status) {
            switch (status) {
                default:
                case 'WX1':
                    return '������';
                case 'WX2':
                    return 'ʹ����';
            }
        };
        Account.prototype.search = function () {
        };
        return Account;
    })();
    Account.$inject = ['$rootScope', '$scope', '$state', '$stateParams', 'WechatPublicService']; //, '$stateProvider'];
    WeMedia.ControllerModule.controller('AccountCtrl', Account);
})(WeMedia || (WeMedia = {}));
>>>>>>> .r140
//# sourceMappingURL=account.js.map